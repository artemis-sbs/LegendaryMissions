if is_dev_build():
    gui_tab_add_top("quest")
    # Example images
    gui_image_add_atlas("test", "media/LegendaryMissions/operator")
    gui_image_add_atlas("test2", "media/LegendaryMissions/operator", 645,570, 950,820)

default CONSOLE_SELECT = "" # Make sure variable exist at startup

if is_dev_build():
    quest_console_enable("helm,comms")
    shared QUEST_TAB_ENABLED = True

//gui/tab/quest if quest_is_console_enabled(CONSOLE_SELECT)
    jump quest_screen


=== quest_screen
    gui_tab_back(CONSOLE_SELECT)
    gui_activate_console("quest")

    # Whole screen
    gui_section(style="area:0,45px,100,100;")

    if is_dev_build():
        quest_create_test_data()

    quest_list = quest_flatten_list()

    # Left
    with gui_sub_section("col-width:35;"):
        gui_row()
        obj_list = gui_list_box(quest_list,"row-height: 0.1em; background:#1572;", item_template=quest_item, title_template=quest_title, select=True)

    t = """
$t Select a quest


"""
    #"col-width:62-25px;padding:10px,0, 0,0"):
    with gui_sub_section(): 
        gui_row("col-width:62-25px;padding:10px,0, 0,0")
        text = gui_text_area(t) #"$h1 Hello\n\nTest\n\n\n\n")

    header = """
=$t font:gui-6;color:#bbb;
=$h1 font:gui-5;color:#55b;background:#115; | I > 0;
=$h2 font:gui-4;color:#5b5; | A > 2;
=$h3 font:gui-3;color:#b55; | a > 4;
=$p2 font:gui-2;color:#11f; | > 2;
=$p3 font:gui-2;color:#11f; | > 4;
=$ol font:gui-2;color:#393; | 1 > 6;
=$ul font:gui-2;color:#11f; | * > 6;
=$c font:gui-2;color:#339;justify:center; 
=$r font:gui-2;color:#339;justify:right;
=$_ font:gui-2;color:white;
"""
#=$ul font:gui-2;color:#933; | \x01 > 4;
    text.parse_header(header)
    
    obj_list.title_section_style += "background:#1578;"
    on change obj_list.get_value():
        item = obj_list.get_value()
        if gui_list_box_is_header(item):
            item = item.data

        t = """
$t {item.display_text}

{item.description}
"""
        text.value = t

    await gui()
